using System;
using System.Drawing;
using Robocode.TankRoyale.BotApi;
using Robocode.TankRoyale.BotApi.Events;


public class Berserker : Bot
{
    private Random rng = new Random();

    static void Main(string[] args)
    {
        new Berserker().Start();
    }

    Berserker() : base(BotInfo.FromFile("Berserker.json")) { }

    public override void Run()
    {
        // Set warna
        var gray = Color.FromArgb(0x80, 0x80, 0x80);
        BodyColor = gray;
        TurretColor = Color.Black;
        RadarColor = Color.White;
        ScanColor = Color.Red;
        BulletColor = Color.Black;

        while (IsRunning)
        {
            SetBack(40000);
            TurnGunLeft(360); // Radar selalu scanning
        }
    }

    public override void OnScannedBot(ScannedBotEvent e)
    {
        var distance = DistanceTo(e.X, e.Y);
        if (distance < 200) {
            Fire(1.5);
        }
        else
        {
            Fire(1);
        }
    }

    public override void OnHitByBullet(HitByBulletEvent e) {
        // define movement by attack energy
        SetBack(100);
        SetTurnRight(60);

    }
    public override void OnHitWall(HitWallEvent e)
    {
        SetBack(100);
        SetTurnLeft(200);
    }

    public override void OnHitBot(HitBotEvent e)
    {
        SetBack(50);
    }

}
